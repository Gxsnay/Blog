# ã€Œ è®° ã€`Set`çš„ä¸€æ¬¡éå†é—®é¢˜

`Set`çš„éå†ä»£ç å¦‚ä¸‹ï¼š

```js
let set = new Set([1]);
let index = 2;

set.forEach((item) => {
  set.delete(1);
  set.add(1); // -a é€ æˆæ­»å¾ªç¯
  set.add(2); // -b è¿™æ ·åˆ™ä¸ä¼šæ­»å¾ªç¯ï¼Œä¸ºä»€ä¹ˆï¼ŸğŸ¤”ï¼Ÿ
  set.add(index++); // -c é€ æˆæ­»å¾ªæ±—
  console.log(123);
});
```

`aã€c`è¿™ä¸¤ç§éƒ½ä¼šé€ æˆæ­»å¾ªç¯ï¼Œ`b`æƒ…å†µåˆ™ä¸ä¼šã€‚

## åˆ†æ

**ã€Œ ç”±äº`Set`æ•°æ®ç»“æ„æˆå‘˜éƒ½æ˜¯å”¯ä¸€çš„ã€‚ ã€**

- `a` - `set.delete(1) -> set.add(1)`

  è¿™æ ·`set`ä¸‹æ¬¡å¾ªç¯çš„æ—¶å€™ï¼Œä¼šå¯Ÿè§‰è¿˜æœ‰å€¼ï¼Œä¼šé€ æˆæ­»å¾ªç¯ã€‚

  > **`Set.forEach`ä¸ºä»€ä¹ˆä¼šè¿™æ ·å®ç°ï¼Ÿåœ¨æ‰©å±•ä¸­æœ‰è§£é‡Šï¼ˆä»¥åŠä¸ºä»€ä¹ˆï¼‰ã€‚ğŸ‘‡**

- `b` - `set.delete(1) -> set.add(2)`

  ä¸ä¼šæ­»å¾ªç¯æ˜¯å› ä¸ºã€Œ ç»“æ„æˆå‘˜éƒ½æ˜¯å”¯ä¸€ ã€ã€‚æ‰€ä»¥`123`æ‰“å°ä¸¤æ¬¡ï¼Œç¬¬äºŒæ¬¡`add(2)`æ—¶è§†ä¸ºæ— æ•ˆã€‚

- `c` - `set.add(index++)`

  æ˜¯å› ä¸º`add(2 -> 3 -> 4 -> 5...)`æ¯æ¬¡å€¼ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æ­»å¾ªç¯ã€‚

## `forEach`è·³å‡ºå¾ªç¯

> `descï¼š` åˆ†æé—®é¢˜çš„é€”ä¸­ï¼Œæƒ³åˆ©ç”¨`forEach`è¿›è¡Œè°ƒè¯•ã€‚ç»“æœ`return`å¹¶ä¸èƒ½ä¸­æ­¢...
>
> ç‰¹æ­¤è®°å½• ğŸ“ ä¸€ä¸‹`forEach`è·³å‡ºå¾ªç¯çš„é—®é¢˜ã€‚

- ä½¿ç”¨`return`åªèƒ½è·³å‡º æœ¬æ¬¡/å½“å‰ å¾ªç¯ï¼Œç±»ä¼¼`continue`æ•ˆæœï¼Œå¹¶ä¸èƒ½ç»ˆæ­¢æ•´ä¸ªå¾ªç¯ã€‚
- `forEach`ä¸èƒ½ä½¿ç”¨`continue`å’Œ`break`æ¥è·³å‡ºå¾ªç¯ã€‚ -- æŠ¥é”™
- `forEach`å¯ä»¥é€šè¿‡`try-catch`æŠ›å‡ºå¼‚å¸¸çš„æ–¹å¼è·³å‡ºå¾ªç¯ã€‚ -- åæ–¹

**è¿™æ˜¯å› ä¸º`forEach`æœ¬èº«æ— æ³•è·³å‡ºå¾ªç¯ï¼Œå¿…é¡»éå†æ‰€æœ‰çš„æ•°æ®æ‰èƒ½ç»“æŸã€‚å®ƒä¼ å…¥çš„æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå› æ­¤å½¢æˆäº†ä¸€ä¸ªä½œç”¨åŸŸã€‚**

> å®ƒå†…éƒ¨æ‰€å®šä¹‰çš„å˜é‡ä¸ä¼šåƒ`for`å¾ªç¯ä¸€æ ·æ±¡æŸ“å…¨å±€å˜é‡ã€‚

## æ‰©å±•

åŒæ ·æ“ä½œï¼Œ`Object / Array`æ˜¯ä¸ä¼šå‡ºç°æ­»å¾ªç¯ç°è±¡çš„ã€‚

```js
let obj = { a: 1 },
  arr = [1];

for (let key in obj) {
  // åªæ‰“å°ä¸€æ¬¡ key- a
  obj[index++] = index; // ä¸å½±å“ï¼Œä¸ä¼šå‡ºç°æ­»å¾ªç¯ã€‚
  console.log("key-", key);
}
// Object.keys(obj) ä¹ŸåŒä¸Šé¢è¡¨ç°ä¸€è‡´ï¼Œåªæ‰“å°ä¸€æ¬¡ã€‚

arr.forEach((_item) => {
  // åªæ‰“å°ä¸€æ¬¡ _item- 1
  // arr.push(1, 2, 3); // ä¸å½±å“ï¼Œä¸ä¼šå‡ºç°æ­»å¾ªç¯ã€‚
  // arr = [...arr, 1, 2, 3]; // ä¸å½±å“ï¼Œä¸ä¼šå‡ºç°æ­»å¾ªç¯ã€‚
  console.log("_item-", _item);
});
```

### `Arrayã€Set`ä¸­`forEach`æ–¹æ³•çš„åŒºåˆ«ï¼Ÿ

> `Array / Object` å’Œ `Set`åœ¨éå†è¿‡ç¨‹ä¸­çš„è¡¨ç°ä¸ºä»€ä¹ˆä¸ä¸€è‡´ï¼Ÿ
>
> åŸå› å¦‚ä¸‹ï¼šğŸ‘‡

- `Array_forEach`

  [`Array_forEach`å®šä¹‰](https://tc39.es/ecma262/#sec-array.prototype.foreach)

  **`Array_forEach`æ˜¯ã€Œ é¦–å…ˆè·å–äº†`Array`çš„é•¿åº¦ ğŸ“ ã€ï¼Œç„¶åä½¿ç”¨å¾ªç¯è®¿é—®æ¯ä¸ªå…ƒç´ ã€‚**

  **æ‰€ä»¥ä¸æ˜¯è¯´æ–°æ’å…¥çš„å…ƒç´ ä¸è®¿é—®ï¼Œè€Œæ˜¯å› ä¸ºæ’å…¥çš„ä½ç½®è¶…è¿‡äº†`forEach`æ‰§è¡Œæ—¶çš„æ•°ç»„å¤§å°ã€‚ğŸ˜¯**

  ```js
  let arr_1 = [1, 2];
  arr_1.forEach((_item_1) => {
    // æ‰“å° 1ã€5 -- ğŸ‘† éªŒè¯äº†ä¸Šé¢è¯´æ³•ï½
    console.log("_item_1", _item_1);
    arr_1.pop();
    arr_1.push(5);
  });
  ```

- `Set_forEach`

  [`Set_forEach`å®šä¹‰](https://tc39.es/ecma262/#sec-set.prototype.foreach)

  **`Set_forEach`æ˜¯ã€Œ æŒ‰ç…§æ’å…¥é¡ºåºä¾æ¬¡è®¿é—®å„ä¸ªå…ƒç´  ğŸ“ ã€ã€‚**

  **è€Œä¸”æ˜ç¡®çº¦å®šäº†ï¼Œåœ¨`forEach`å¼€å§‹æ‰§è¡Œä¹‹åæ’å…¥çš„å…ƒç´ ä¹Ÿè¦è¢«è®¿é—®ã€‚**

  `Set numEntries to the number of elements of entries.` - æ˜¯`ECMA`ä¸­å¯¹äº`Set_forEach`çš„æè¿°ã€‚
